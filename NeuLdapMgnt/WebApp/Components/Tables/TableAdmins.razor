@inherits LayoutComponentBase

<div class="table-admins table-responsive rounded px-1 border flex-fill">
    <table class="table table-striped table-borderless align-middle">
        <thead class="sticky-top">
            <tr>
                <th class="user-select-none" role="button" @onclick="@(() => SortTable("Id"))">
                    Id
                    @if (sortBy == "Id")
                    {
                        <i class="bi @GetSortIcon(isAscending)"></i>
                    }
                    else
                    {
                        <i class="bi bi-chevron-expand"></i>
                    }
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var admin in Admins)
            {
                <tr>
                    <td class="rounded">@admin</td>
                </tr>
            }
        </tbody>
    </table>
</div>
@code {
    [Parameter]
    public List<string> Admins { get; set; } = new();

    private string sortBy = string.Empty;
    private bool isAscending = false;

    private void SortTable(string propertyName)
    {
        if (sortBy == propertyName)
        {
            isAscending = !isAscending;
        }
        else
        {
            sortBy = propertyName;
            isAscending = true;
        }
        switch (propertyName)
        {
            case "Id":
                Admins = isAscending
                ? Admins
                    .OrderBy(x => x)
                    .ToList()
                : Admins
                    .OrderByDescending(x => x)
                    .ToList();
                break;

            default:
                break;
        }
    }

    private string GetSortIcon(bool asc) => asc ? "bi-sort-up" : "bi-sort-down";
}

