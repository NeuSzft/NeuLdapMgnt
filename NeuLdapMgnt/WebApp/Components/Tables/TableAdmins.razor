@inherits LayoutComponentBase

<table class="table table-striped">
	<thead>
		<tr>
			<th class="user-select-none" role="button" @onclick="@(() => SortTable("Id"))">
				Id
				@if (sortBy == "Id")
				{
					<i class="bi @GetSortIcon(isAscending)"></i>
				}
				else
				{
					<i class="bi bi-chevron-expand"></i>
				}
			</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var admin in Admins)
		{
			<tr>
				<td>@admin</td>
			</tr>
		}
	</tbody>
</table>

@code {
	[Parameter]
	public List<string> Admins { get; set; } = new();

	private string sortBy = string.Empty;
	private bool isAscending = false;

	private void SortTable(string propertyName)
	{
		if (sortBy == propertyName)
		{
			isAscending = !isAscending;
		}
		else
		{
			sortBy = propertyName;
			isAscending = true;
		}
		switch (propertyName)
		{
			case "Id":
				Admins = isAscending
				? Admins
					.OrderBy(x => x)
					.ToList()
				: Admins
					.OrderByDescending(x => x)
					.ToList();
				break;

			default:
				break;
		}
	}

	private string GetSortIcon(bool asc) => asc ? "bi-sort-up" : "bi-sort-down";
}

